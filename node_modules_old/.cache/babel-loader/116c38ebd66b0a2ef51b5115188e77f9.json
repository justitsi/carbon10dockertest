{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst glob_1 = __importDefault(require(\"glob\"));\n\nconst apollo_tools_1 = require(\"@apollographql/apollo-tools\");\n\nconst utilities_1 = require(\"./utilities\");\n\nclass FileSet {\n  constructor({\n    rootURI,\n    includes,\n    excludes,\n    configURI\n  }) {\n    apollo_tools_1.invariant(rootURI, `Must provide \"rootURI\".`);\n    apollo_tools_1.invariant(includes, `Must provide \"includes\".`);\n    apollo_tools_1.invariant(excludes, `Must provide \"excludes\".`);\n    this.rootURI = rootURI;\n    this.includes = includes;\n    this.excludes = excludes;\n  }\n\n  includesFile(filePath) {\n    return this.allFiles().includes(utilities_1.normalizeURI(filePath));\n  }\n\n  allFiles() {\n    const joinedIncludes = `{${this.includes.join(\",\")}}`;\n    return glob_1.default.sync(joinedIncludes, {\n      cwd: this.rootURI.fsPath,\n      absolute: true,\n      ignore: this.excludes\n    }).map(utilities_1.normalizeURI);\n  }\n\n}\n\nexports.FileSet = FileSet;","map":{"version":3,"sources":["../src/fileSet.ts"],"names":[],"mappings":";;;;;;;;;;;;AAEA,MAAA,MAAA,GAAA,eAAA,CAAA,OAAA,CAAA,MAAA,CAAA,CAAA;;AACA,MAAA,cAAA,GAAA,OAAA,CAAA,6BAAA,CAAA;;AAEA,MAAA,WAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AAEA,MAAa,OAAb,CAAoB;AAKlB,EAAA,WAAA,CAAY;AACV,IAAA,OADU;AAEV,IAAA,QAFU;AAGV,IAAA,QAHU;AAIV,IAAA;AAJU,GAAZ,EAUC;AACC,IAAA,cAAA,CAAA,SAAA,CAAU,OAAV,EAAmB,yBAAnB;AACA,IAAA,cAAA,CAAA,SAAA,CAAU,QAAV,EAAoB,0BAApB;AACA,IAAA,cAAA,CAAA,SAAA,CAAU,QAAV,EAAoB,0BAApB;AAEA,SAAK,OAAL,GAAe,OAAf;AACA,SAAK,QAAL,GAAgB,QAAhB;AACA,SAAK,QAAL,GAAgB,QAAhB;AACD;;AAED,EAAA,YAAY,CAAC,QAAD,EAAiB;AAC3B,WAAO,KAAK,QAAL,GAAgB,QAAhB,CAAyB,WAAA,CAAA,YAAA,CAAa,QAAb,CAAzB,CAAP;AACD;;AAED,EAAA,QAAQ,GAAA;AAIN,UAAM,cAAc,GAAG,IAAI,KAAK,QAAL,CAAc,IAAd,CAAmB,GAAnB,CAAuB,GAAlD;AACA,WAAO,MAAA,CAAA,OAAA,CACJ,IADI,CACC,cADD,EACiB;AACpB,MAAA,GAAG,EAAE,KAAK,OAAL,CAAa,MADE;AAEpB,MAAA,QAAQ,EAAE,IAFU;AAGpB,MAAA,MAAM,EAAE,KAAK;AAHO,KADjB,EAMJ,GANI,CAMA,WAAA,CAAA,YANA,CAAP;AAOD;;AAzCiB;;AAApB,OAAA,CAAA,OAAA,GAAA,OAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst glob_1 = __importDefault(require(\"glob\"));\nconst apollo_tools_1 = require(\"@apollographql/apollo-tools\");\nconst utilities_1 = require(\"./utilities\");\nclass FileSet {\n    constructor({ rootURI, includes, excludes, configURI }) {\n        apollo_tools_1.invariant(rootURI, `Must provide \"rootURI\".`);\n        apollo_tools_1.invariant(includes, `Must provide \"includes\".`);\n        apollo_tools_1.invariant(excludes, `Must provide \"excludes\".`);\n        this.rootURI = rootURI;\n        this.includes = includes;\n        this.excludes = excludes;\n    }\n    includesFile(filePath) {\n        return this.allFiles().includes(utilities_1.normalizeURI(filePath));\n    }\n    allFiles() {\n        const joinedIncludes = `{${this.includes.join(\",\")}}`;\n        return glob_1.default\n            .sync(joinedIncludes, {\n            cwd: this.rootURI.fsPath,\n            absolute: true,\n            ignore: this.excludes\n        })\n            .map(utilities_1.normalizeURI);\n    }\n}\nexports.FileSet = FileSet;\n//# sourceMappingURL=fileSet.js.map"]},"metadata":{},"sourceType":"script"}