{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction isClientConfig(config) {\n  return config.isClient;\n}\n\nexports.isClientConfig = isClientConfig;\n\nfunction isLocalServiceConfig(config) {\n  return !!config.localSchemaFile;\n}\n\nexports.isLocalServiceConfig = isLocalServiceConfig;\n\nfunction isServiceConfig(config) {\n  return config.isService;\n}\n\nexports.isServiceConfig = isServiceConfig;\n\nfunction isServiceKey(key) {\n  return key && /service:.*:.*/.test(key);\n}\n\nexports.isServiceKey = isServiceKey;\n\nfunction getServiceFromKey(key) {\n  if (key) {\n    const [type, service] = key.split(\":\");\n    if (type === \"service\") return service;\n  }\n\n  return;\n}\n\nexports.getServiceFromKey = getServiceFromKey;\n\nfunction getGraphIdFromConfig(config) {\n  if (config.service && config.service.name) return parseServiceSpecifier(config.service.name)[0];\n\n  if (config.client) {\n    if (typeof config.client.service === \"string\") {\n      return parseServiceSpecifier(config.client.service)[0];\n    }\n\n    return config.client.service && config.client.service.name;\n  } else {\n    return undefined;\n  }\n}\n\nexports.getGraphIdFromConfig = getGraphIdFromConfig;\n\nfunction parseServiceSpecifier(specifier) {\n  const [id, tag] = specifier.split(\"@\").map(x => x.trim());\n  return [id, tag];\n}\n\nexports.parseServiceSpecifier = parseServiceSpecifier;","map":{"version":3,"sources":["../../src/config/utils.ts"],"names":[],"mappings":";;;;;;AAUA,SAAgB,cAAhB,CAA+B,MAA/B,EAAmD;AACjD,SAAO,MAAM,CAAC,QAAd;AACD;;AAFD,OAAA,CAAA,cAAA,GAAA,cAAA;;AAKA,SAAgB,oBAAhB,CACE,MADF,EAC6B;AAE3B,SAAO,CAAC,CAAE,MAA6B,CAAC,eAAxC;AACD;;AAJD,OAAA,CAAA,oBAAA,GAAA,oBAAA;;AAMA,SAAgB,eAAhB,CAAgC,MAAhC,EAAoD;AAClD,SAAO,MAAM,CAAC,SAAd;AACD;;AAFD,OAAA,CAAA,eAAA,GAAA,eAAA;;AAIA,SAAgB,YAAhB,CAA6B,GAA7B,EAAyC;AACvC,SAAO,GAAG,IAAI,gBAAgB,IAAhB,CAAqB,GAArB,CAAd;AACD;;AAFD,OAAA,CAAA,YAAA,GAAA,YAAA;;AAIA,SAAgB,iBAAhB,CAAkC,GAAlC,EAA8C;AAC5C,MAAI,GAAJ,EAAS;AACP,UAAM,CAAC,IAAD,EAAO,OAAP,IAAkB,GAAG,CAAC,KAAJ,CAAU,GAAV,CAAxB;AACA,QAAI,IAAI,KAAK,SAAb,EAAwB,OAAO,OAAP;AACzB;;AACD;AACD;;AAND,OAAA,CAAA,iBAAA,GAAA,iBAAA;;AAQA,SAAgB,oBAAhB,CAAqC,MAArC,EAA+D;AAC7D,MAAI,MAAM,CAAC,OAAP,IAAkB,MAAM,CAAC,OAAP,CAAe,IAArC,EACE,OAAO,qBAAqB,CAAC,MAAM,CAAC,OAAP,CAAe,IAAhB,CAArB,CAA2C,CAA3C,CAAP;;AACF,MAAI,MAAM,CAAC,MAAX,EAAmB;AACjB,QAAI,OAAO,MAAM,CAAC,MAAP,CAAc,OAArB,KAAiC,QAArC,EAA+C;AAC7C,aAAO,qBAAqB,CAAC,MAAM,CAAC,MAAP,CAC1B,OADyB,CAArB,CACyB,CADzB,CAAP;AAED;;AACD,WAAO,MAAM,CAAC,MAAP,CAAc,OAAd,IAAyB,MAAM,CAAC,MAAP,CAAc,OAAd,CAAsB,IAAtD;AACD,GAND,MAMO;AACL,WAAO,SAAP;AACD;AACF;;AAZD,OAAA,CAAA,oBAAA,GAAA,oBAAA;;AAcA,SAAgB,qBAAhB,CAAsC,SAAtC,EAAiE;AAC/D,QAAM,CAAC,EAAD,EAAK,GAAL,IAAY,SAAS,CAAC,KAAV,CAAgB,GAAhB,EAAqB,GAArB,CAAyB,CAAC,IAAI,CAAC,CAAC,IAAF,EAA9B,CAAlB;AACA,SAAO,CAAC,EAAD,EAAK,GAAL,CAAP;AACD;;AAHD,OAAA,CAAA,qBAAA,GAAA,qBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isClientConfig(config) {\n    return config.isClient;\n}\nexports.isClientConfig = isClientConfig;\nfunction isLocalServiceConfig(config) {\n    return !!config.localSchemaFile;\n}\nexports.isLocalServiceConfig = isLocalServiceConfig;\nfunction isServiceConfig(config) {\n    return config.isService;\n}\nexports.isServiceConfig = isServiceConfig;\nfunction isServiceKey(key) {\n    return key && /service:.*:.*/.test(key);\n}\nexports.isServiceKey = isServiceKey;\nfunction getServiceFromKey(key) {\n    if (key) {\n        const [type, service] = key.split(\":\");\n        if (type === \"service\")\n            return service;\n    }\n    return;\n}\nexports.getServiceFromKey = getServiceFromKey;\nfunction getGraphIdFromConfig(config) {\n    if (config.service && config.service.name)\n        return parseServiceSpecifier(config.service.name)[0];\n    if (config.client) {\n        if (typeof config.client.service === \"string\") {\n            return parseServiceSpecifier(config.client\n                .service)[0];\n        }\n        return config.client.service && config.client.service.name;\n    }\n    else {\n        return undefined;\n    }\n}\nexports.getGraphIdFromConfig = getGraphIdFromConfig;\nfunction parseServiceSpecifier(specifier) {\n    const [id, tag] = specifier.split(\"@\").map(x => x.trim());\n    return [id, tag];\n}\nexports.parseServiceSpecifier = parseServiceSpecifier;\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"script"}