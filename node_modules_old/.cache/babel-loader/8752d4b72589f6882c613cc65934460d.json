{"ast":null,"code":"const {\n  head\n} = require('../lib/git'); // https://wiki.jenkins.io/display/JENKINS/Building+a+software+project\n\n\nmodule.exports = {\n  detect({\n    env\n  }) {\n    return Boolean(env.JENKINS_URL);\n  },\n\n  configuration({\n    env,\n    cwd\n  }) {\n    const pr = env.ghprbPullId || env.gitlabMergeRequestId || env.CHANGE_ID;\n    const isPr = Boolean(pr);\n    const localBranch = env.GIT_LOCAL_BRANCH || env.GIT_BRANCH || env.gitlabBranch || env.BRANCH_NAME;\n    return {\n      name: 'Jenkins',\n      service: 'jenkins',\n      commit: env.ghprbActualCommit || env.GIT_COMMIT || head({\n        env,\n        cwd\n      }),\n      branch: isPr ? env.ghprbTargetBranch || env.gitlabTargetBranch : localBranch,\n      build: env.BUILD_NUMBER,\n      buildUrl: env.BUILD_URL,\n      root: env.WORKSPACE,\n      pr,\n      isPr,\n      prBranch: isPr ? env.ghprbSourceBranch || env.gitlabSourceBranch || localBranch : undefined\n    };\n  }\n\n};","map":{"version":3,"sources":["/Users/hristobelchev/test_projects/testing_react/react-box-app/box-app/node_modules/env-ci/services/jenkins.js"],"names":["head","require","module","exports","detect","env","Boolean","JENKINS_URL","configuration","cwd","pr","ghprbPullId","gitlabMergeRequestId","CHANGE_ID","isPr","localBranch","GIT_LOCAL_BRANCH","GIT_BRANCH","gitlabBranch","BRANCH_NAME","name","service","commit","ghprbActualCommit","GIT_COMMIT","branch","ghprbTargetBranch","gitlabTargetBranch","build","BUILD_NUMBER","buildUrl","BUILD_URL","root","WORKSPACE","prBranch","ghprbSourceBranch","gitlabSourceBranch","undefined"],"mappings":"AAAA,MAAM;AAACA,EAAAA;AAAD,IAASC,OAAO,CAAC,YAAD,CAAtB,C,CAEA;;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AAChBC,EAAAA,MAAM,CAAC;AAACC,IAAAA;AAAD,GAAD,EAAQ;AACb,WAAOC,OAAO,CAACD,GAAG,CAACE,WAAL,CAAd;AACA,GAHe;;AAIhBC,EAAAA,aAAa,CAAC;AAACH,IAAAA,GAAD;AAAMI,IAAAA;AAAN,GAAD,EAAa;AACzB,UAAMC,EAAE,GAAGL,GAAG,CAACM,WAAJ,IAAmBN,GAAG,CAACO,oBAAvB,IAA+CP,GAAG,CAACQ,SAA9D;AACA,UAAMC,IAAI,GAAGR,OAAO,CAACI,EAAD,CAApB;AACA,UAAMK,WAAW,GAAGV,GAAG,CAACW,gBAAJ,IAAwBX,GAAG,CAACY,UAA5B,IAA0CZ,GAAG,CAACa,YAA9C,IAA8Db,GAAG,CAACc,WAAtF;AAEA,WAAO;AACNC,MAAAA,IAAI,EAAE,SADA;AAENC,MAAAA,OAAO,EAAE,SAFH;AAGNC,MAAAA,MAAM,EAAEjB,GAAG,CAACkB,iBAAJ,IAAyBlB,GAAG,CAACmB,UAA7B,IAA2CxB,IAAI,CAAC;AAACK,QAAAA,GAAD;AAAMI,QAAAA;AAAN,OAAD,CAHjD;AAINgB,MAAAA,MAAM,EAAEX,IAAI,GAAGT,GAAG,CAACqB,iBAAJ,IAAyBrB,GAAG,CAACsB,kBAAhC,GAAqDZ,WAJ3D;AAKNa,MAAAA,KAAK,EAAEvB,GAAG,CAACwB,YALL;AAMNC,MAAAA,QAAQ,EAAEzB,GAAG,CAAC0B,SANR;AAONC,MAAAA,IAAI,EAAE3B,GAAG,CAAC4B,SAPJ;AAQNvB,MAAAA,EARM;AASNI,MAAAA,IATM;AAUNoB,MAAAA,QAAQ,EAAEpB,IAAI,GAAGT,GAAG,CAAC8B,iBAAJ,IAAyB9B,GAAG,CAAC+B,kBAA7B,IAAmDrB,WAAtD,GAAoEsB;AAV5E,KAAP;AAYA;;AArBe,CAAjB","sourcesContent":["const {head} = require('../lib/git');\n\n// https://wiki.jenkins.io/display/JENKINS/Building+a+software+project\n\nmodule.exports = {\n\tdetect({env}) {\n\t\treturn Boolean(env.JENKINS_URL);\n\t},\n\tconfiguration({env, cwd}) {\n\t\tconst pr = env.ghprbPullId || env.gitlabMergeRequestId || env.CHANGE_ID;\n\t\tconst isPr = Boolean(pr);\n\t\tconst localBranch = env.GIT_LOCAL_BRANCH || env.GIT_BRANCH || env.gitlabBranch || env.BRANCH_NAME;\n\n\t\treturn {\n\t\t\tname: 'Jenkins',\n\t\t\tservice: 'jenkins',\n\t\t\tcommit: env.ghprbActualCommit || env.GIT_COMMIT || head({env, cwd}),\n\t\t\tbranch: isPr ? env.ghprbTargetBranch || env.gitlabTargetBranch : localBranch,\n\t\t\tbuild: env.BUILD_NUMBER,\n\t\t\tbuildUrl: env.BUILD_URL,\n\t\t\troot: env.WORKSPACE,\n\t\t\tpr,\n\t\t\tisPr,\n\t\t\tprBranch: isPr ? env.ghprbSourceBranch || env.gitlabSourceBranch || localBranch : undefined,\n\t\t};\n\t},\n};\n"]},"metadata":{},"sourceType":"script"}