{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.duplicateEnumOrScalar = void 0;\n\nconst graphql_1 = require(\"graphql\");\n\nconst utils_1 = require(\"../../utils\");\n\nexports.duplicateEnumOrScalar = ({\n  name: serviceName,\n  typeDefs\n}) => {\n  const errors = [];\n  const enums = [];\n  const scalars = [];\n  graphql_1.visit(typeDefs, {\n    EnumTypeDefinition(definition) {\n      const name = definition.name.value;\n\n      if (enums.includes(name)) {\n        errors.push(utils_1.errorWithCode('DUPLICATE_ENUM_DEFINITION', utils_1.logServiceAndType(serviceName, name) + `The enum, \\`${name}\\` was defined multiple times in this service. Remove one of the definitions for \\`${name}\\``));\n        return definition;\n      }\n\n      enums.push(name);\n      return definition;\n    },\n\n    ScalarTypeDefinition(definition) {\n      const name = definition.name.value;\n\n      if (scalars.includes(name)) {\n        errors.push(utils_1.errorWithCode('DUPLICATE_SCALAR_DEFINITION', utils_1.logServiceAndType(serviceName, name) + `The scalar, \\`${name}\\` was defined multiple times in this service. Remove one of the definitions for \\`${name}\\``));\n        return definition;\n      }\n\n      scalars.push(name);\n      return definition;\n    }\n\n  });\n  return errors;\n};","map":{"version":3,"sources":["../../../../src/composition/validate/preComposition/duplicateEnumOrScalar.ts"],"names":[],"mappings":";;;;;;;AAAA,MAAA,SAAA,GAAA,OAAA,CAAA,SAAA,CAAA;;AAGA,MAAA,OAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AAEa,OAAA,CAAA,qBAAA,GAAwB,CAAC;AACpC,EAAA,IAAI,EAAE,WAD8B;AAEpC,EAAA;AAFoC,CAAD,KAGb;AACtB,QAAM,MAAM,GAAmB,EAA/B;AAGA,QAAM,KAAK,GAAa,EAAxB;AACA,QAAM,OAAO,GAAa,EAA1B;AAEA,EAAA,SAAA,CAAA,KAAA,CAAM,QAAN,EAAgB;AACd,IAAA,kBAAkB,CAAC,UAAD,EAAW;AAC3B,YAAM,IAAI,GAAG,UAAU,CAAC,IAAX,CAAgB,KAA7B;;AACA,UAAI,KAAK,CAAC,QAAN,CAAe,IAAf,CAAJ,EAA0B;AACxB,QAAA,MAAM,CAAC,IAAP,CACE,OAAA,CAAA,aAAA,CACE,2BADF,EAEE,OAAA,CAAA,iBAAA,CAAkB,WAAlB,EAA+B,IAA/B,IACE,eAAe,IAAI,sFAAsF,IAAI,IAHjH,CADF;AAOA,eAAO,UAAP;AACD;;AACD,MAAA,KAAK,CAAC,IAAN,CAAW,IAAX;AACA,aAAO,UAAP;AACD,KAfa;;AAgBd,IAAA,oBAAoB,CAAC,UAAD,EAAW;AAC7B,YAAM,IAAI,GAAG,UAAU,CAAC,IAAX,CAAgB,KAA7B;;AACA,UAAI,OAAO,CAAC,QAAR,CAAiB,IAAjB,CAAJ,EAA4B;AAC1B,QAAA,MAAM,CAAC,IAAP,CACE,OAAA,CAAA,aAAA,CACE,6BADF,EAEE,OAAA,CAAA,iBAAA,CAAkB,WAAlB,EAA+B,IAA/B,IACE,iBAAiB,IAAI,sFAAsF,IAAI,IAHnH,CADF;AAOA,eAAO,UAAP;AACD;;AACD,MAAA,OAAO,CAAC,IAAR,CAAa,IAAb;AACA,aAAO,UAAP;AACD;;AA9Ba,GAAhB;AAiCA,SAAO,MAAP;AACD,CA5CY","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.duplicateEnumOrScalar = void 0;\nconst graphql_1 = require(\"graphql\");\nconst utils_1 = require(\"../../utils\");\nexports.duplicateEnumOrScalar = ({ name: serviceName, typeDefs, }) => {\n    const errors = [];\n    const enums = [];\n    const scalars = [];\n    graphql_1.visit(typeDefs, {\n        EnumTypeDefinition(definition) {\n            const name = definition.name.value;\n            if (enums.includes(name)) {\n                errors.push(utils_1.errorWithCode('DUPLICATE_ENUM_DEFINITION', utils_1.logServiceAndType(serviceName, name) +\n                    `The enum, \\`${name}\\` was defined multiple times in this service. Remove one of the definitions for \\`${name}\\``));\n                return definition;\n            }\n            enums.push(name);\n            return definition;\n        },\n        ScalarTypeDefinition(definition) {\n            const name = definition.name.value;\n            if (scalars.includes(name)) {\n                errors.push(utils_1.errorWithCode('DUPLICATE_SCALAR_DEFINITION', utils_1.logServiceAndType(serviceName, name) +\n                    `The scalar, \\`${name}\\` was defined multiple times in this service. Remove one of the definitions for \\`${name}\\``));\n                return definition;\n            }\n            scalars.push(name);\n            return definition;\n        },\n    });\n    return errors;\n};\n//# sourceMappingURL=duplicateEnumOrScalar.js.map"]},"metadata":{},"sourceType":"script"}