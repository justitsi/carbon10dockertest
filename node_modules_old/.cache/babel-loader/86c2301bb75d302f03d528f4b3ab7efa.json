{"ast":null,"code":"const {\n  head\n} = require('../lib/git'); // https://semaphoreci.com/docs/available-environment-variables.html\n\n\nmodule.exports = {\n  detect({\n    env\n  }) {\n    return Boolean(env.SEMAPHORE);\n  },\n\n  configuration({\n    env,\n    cwd\n  }) {\n    const pr = env.PULL_REQUEST_NUMBER;\n    const isPr = Boolean(pr);\n    return {\n      name: 'Semaphore',\n      service: 'semaphore',\n      commit: head({\n        env,\n        cwd\n      }),\n      build: env.SEMAPHORE_BUILD_NUMBER,\n      branch: isPr ? undefined : env.BRANCH_NAME,\n      pr,\n      isPr,\n      prBranch: isPr ? env.BRANCH_NAME : undefined,\n      slug: env.SEMAPHORE_REPO_SLUG,\n      root: env.SEMAPHORE_PROJECT_DIR\n    };\n  }\n\n};","map":{"version":3,"sources":["/Users/hristobelchev/test_projects/testing_react/react-box-app/box-app/node_modules/env-ci/services/semaphore.js"],"names":["head","require","module","exports","detect","env","Boolean","SEMAPHORE","configuration","cwd","pr","PULL_REQUEST_NUMBER","isPr","name","service","commit","build","SEMAPHORE_BUILD_NUMBER","branch","undefined","BRANCH_NAME","prBranch","slug","SEMAPHORE_REPO_SLUG","root","SEMAPHORE_PROJECT_DIR"],"mappings":"AAAA,MAAM;AAACA,EAAAA;AAAD,IAASC,OAAO,CAAC,YAAD,CAAtB,C,CAEA;;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AAChBC,EAAAA,MAAM,CAAC;AAACC,IAAAA;AAAD,GAAD,EAAQ;AACb,WAAOC,OAAO,CAACD,GAAG,CAACE,SAAL,CAAd;AACA,GAHe;;AAIhBC,EAAAA,aAAa,CAAC;AAACH,IAAAA,GAAD;AAAMI,IAAAA;AAAN,GAAD,EAAa;AACzB,UAAMC,EAAE,GAAGL,GAAG,CAACM,mBAAf;AACA,UAAMC,IAAI,GAAGN,OAAO,CAACI,EAAD,CAApB;AAEA,WAAO;AACNG,MAAAA,IAAI,EAAE,WADA;AAENC,MAAAA,OAAO,EAAE,WAFH;AAGNC,MAAAA,MAAM,EAAEf,IAAI,CAAC;AAACK,QAAAA,GAAD;AAAMI,QAAAA;AAAN,OAAD,CAHN;AAINO,MAAAA,KAAK,EAAEX,GAAG,CAACY,sBAJL;AAKNC,MAAAA,MAAM,EAAEN,IAAI,GAAGO,SAAH,GAAed,GAAG,CAACe,WALzB;AAMNV,MAAAA,EANM;AAONE,MAAAA,IAPM;AAQNS,MAAAA,QAAQ,EAAET,IAAI,GAAGP,GAAG,CAACe,WAAP,GAAqBD,SAR7B;AASNG,MAAAA,IAAI,EAAEjB,GAAG,CAACkB,mBATJ;AAUNC,MAAAA,IAAI,EAAEnB,GAAG,CAACoB;AAVJ,KAAP;AAYA;;AApBe,CAAjB","sourcesContent":["const {head} = require('../lib/git');\n\n// https://semaphoreci.com/docs/available-environment-variables.html\n\nmodule.exports = {\n\tdetect({env}) {\n\t\treturn Boolean(env.SEMAPHORE);\n\t},\n\tconfiguration({env, cwd}) {\n\t\tconst pr = env.PULL_REQUEST_NUMBER;\n\t\tconst isPr = Boolean(pr);\n\n\t\treturn {\n\t\t\tname: 'Semaphore',\n\t\t\tservice: 'semaphore',\n\t\t\tcommit: head({env, cwd}),\n\t\t\tbuild: env.SEMAPHORE_BUILD_NUMBER,\n\t\t\tbranch: isPr ? undefined : env.BRANCH_NAME,\n\t\t\tpr,\n\t\t\tisPr,\n\t\t\tprBranch: isPr ? env.BRANCH_NAME : undefined,\n\t\t\tslug: env.SEMAPHORE_REPO_SLUG,\n\t\t\troot: env.SEMAPHORE_PROJECT_DIR,\n\t\t};\n\t},\n};\n"]},"metadata":{},"sourceType":"script"}