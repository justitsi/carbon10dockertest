{"ast":null,"code":"const {\n  head,\n  branch\n} = require('../lib/git'); // https://docs.aws.amazon.com/codebuild/latest/userguide/build-env-ref-env-vars.html\n\n\nmodule.exports = {\n  detect({\n    env\n  }) {\n    return Boolean(env.CODEBUILD_BUILD_ID);\n  },\n\n  configuration({\n    env,\n    cwd\n  }) {\n    return {\n      name: 'AWS CodeBuild',\n      service: 'codebuild',\n      commit: head({\n        env,\n        cwd\n      }),\n      build: env.CODEBUILD_BUILD_ID,\n      branch: branch({\n        env,\n        cwd\n      }),\n      buildUrl: `https://console.aws.amazon.com/codebuild/home?region=${env.AWS_REGION}#/builds/${env.CODEBUILD_BUILD_ID}/view/new`,\n      root: env.PWD\n    };\n  }\n\n};","map":{"version":3,"sources":["/Users/hristobelchev/test_projects/testing_react/react-box-app/box-app/node_modules/env-ci/services/codebuild.js"],"names":["head","branch","require","module","exports","detect","env","Boolean","CODEBUILD_BUILD_ID","configuration","cwd","name","service","commit","build","buildUrl","AWS_REGION","root","PWD"],"mappings":"AAAA,MAAM;AAACA,EAAAA,IAAD;AAAOC,EAAAA;AAAP,IAAiBC,OAAO,CAAC,YAAD,CAA9B,C,CAEA;;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AAChBC,EAAAA,MAAM,CAAC;AAACC,IAAAA;AAAD,GAAD,EAAQ;AACb,WAAOC,OAAO,CAACD,GAAG,CAACE,kBAAL,CAAd;AACA,GAHe;;AAIhBC,EAAAA,aAAa,CAAC;AAACH,IAAAA,GAAD;AAAMI,IAAAA;AAAN,GAAD,EAAa;AACzB,WAAO;AACNC,MAAAA,IAAI,EAAE,eADA;AAENC,MAAAA,OAAO,EAAE,WAFH;AAGNC,MAAAA,MAAM,EAAEb,IAAI,CAAC;AAACM,QAAAA,GAAD;AAAMI,QAAAA;AAAN,OAAD,CAHN;AAINI,MAAAA,KAAK,EAAER,GAAG,CAACE,kBAJL;AAKNP,MAAAA,MAAM,EAAEA,MAAM,CAAC;AAACK,QAAAA,GAAD;AAAMI,QAAAA;AAAN,OAAD,CALR;AAMNK,MAAAA,QAAQ,EAAG,wDAAuDT,GAAG,CAACU,UAAW,YAChFV,GAAG,CAACE,kBACJ,WARK;AASNS,MAAAA,IAAI,EAAEX,GAAG,CAACY;AATJ,KAAP;AAWA;;AAhBe,CAAjB","sourcesContent":["const {head, branch} = require('../lib/git');\n\n// https://docs.aws.amazon.com/codebuild/latest/userguide/build-env-ref-env-vars.html\n\nmodule.exports = {\n\tdetect({env}) {\n\t\treturn Boolean(env.CODEBUILD_BUILD_ID);\n\t},\n\tconfiguration({env, cwd}) {\n\t\treturn {\n\t\t\tname: 'AWS CodeBuild',\n\t\t\tservice: 'codebuild',\n\t\t\tcommit: head({env, cwd}),\n\t\t\tbuild: env.CODEBUILD_BUILD_ID,\n\t\t\tbranch: branch({env, cwd}),\n\t\t\tbuildUrl: `https://console.aws.amazon.com/codebuild/home?region=${env.AWS_REGION}#/builds/${\n\t\t\t\tenv.CODEBUILD_BUILD_ID\n\t\t\t}/view/new`,\n\t\t\troot: env.PWD,\n\t\t};\n\t},\n};\n"]},"metadata":{},"sourceType":"script"}