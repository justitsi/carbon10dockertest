{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.composeAndValidate = void 0;\n\nconst compose_1 = require(\"./compose\");\n\nconst validate_1 = require(\"./validate\");\n\nconst normalize_1 = require(\"./normalize\");\n\nfunction composeAndValidate(serviceList) {\n  const errors = validate_1.validateServicesBeforeNormalization(serviceList);\n  const normalizedServiceList = serviceList.map(({\n    name,\n    typeDefs\n  }) => ({\n    name,\n    typeDefs: normalize_1.normalizeTypeDefs(typeDefs)\n  }));\n  errors.push(...validate_1.validateServicesBeforeComposition(normalizedServiceList));\n  const compositionResult = compose_1.composeServices(normalizedServiceList);\n  errors.push(...compositionResult.errors);\n  errors.push(...validate_1.validateComposedSchema({\n    schema: compositionResult.schema,\n    serviceList\n  }));\n  return {\n    schema: compositionResult.schema,\n    warnings: [],\n    errors\n  };\n}\n\nexports.composeAndValidate = composeAndValidate;","map":{"version":3,"sources":["../../src/composition/composeAndValidate.ts"],"names":[],"mappings":";;;;;;;AAAA,MAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AACA,MAAA,UAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AAMA,MAAA,WAAA,GAAA,OAAA,CAAA,aAAA,CAAA;;AAEA,SAAgB,kBAAhB,CAAmC,WAAnC,EAAmE;AACjE,QAAM,MAAM,GAAG,UAAA,CAAA,mCAAA,CAAoC,WAApC,CAAf;AAEA,QAAM,qBAAqB,GAAG,WAAW,CAAC,GAAZ,CAAgB,CAAC;AAAE,IAAA,IAAF;AAAQ,IAAA;AAAR,GAAD,MAAyB;AACrE,IAAA,IADqE;AAErE,IAAA,QAAQ,EAAE,WAAA,CAAA,iBAAA,CAAkB,QAAlB;AAF2D,GAAzB,CAAhB,CAA9B;AAMA,EAAA,MAAM,CAAC,IAAP,CAAY,GAAG,UAAA,CAAA,iCAAA,CAAkC,qBAAlC,CAAf;AAGA,QAAM,iBAAiB,GAAG,SAAA,CAAA,eAAA,CAAgB,qBAAhB,CAA1B;AACA,EAAA,MAAM,CAAC,IAAP,CAAY,GAAG,iBAAiB,CAAC,MAAjC;AAGA,EAAA,MAAM,CAAC,IAAP,CACE,GAAG,UAAA,CAAA,sBAAA,CAAuB;AACxB,IAAA,MAAM,EAAE,iBAAiB,CAAC,MADF;AAExB,IAAA;AAFwB,GAAvB,CADL;AAQA,SAAO;AAAE,IAAA,MAAM,EAAE,iBAAiB,CAAC,MAA5B;AAAoC,IAAA,QAAQ,EAAE,EAA9C;AAAkD,IAAA;AAAlD,GAAP;AACD;;AAzBD,OAAA,CAAA,kBAAA,GAAA,kBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.composeAndValidate = void 0;\nconst compose_1 = require(\"./compose\");\nconst validate_1 = require(\"./validate\");\nconst normalize_1 = require(\"./normalize\");\nfunction composeAndValidate(serviceList) {\n    const errors = validate_1.validateServicesBeforeNormalization(serviceList);\n    const normalizedServiceList = serviceList.map(({ name, typeDefs }) => ({\n        name,\n        typeDefs: normalize_1.normalizeTypeDefs(typeDefs),\n    }));\n    errors.push(...validate_1.validateServicesBeforeComposition(normalizedServiceList));\n    const compositionResult = compose_1.composeServices(normalizedServiceList);\n    errors.push(...compositionResult.errors);\n    errors.push(...validate_1.validateComposedSchema({\n        schema: compositionResult.schema,\n        serviceList,\n    }));\n    return { schema: compositionResult.schema, warnings: [], errors };\n}\nexports.composeAndValidate = composeAndValidate;\n//# sourceMappingURL=composeAndValidate.js.map"]},"metadata":{},"sourceType":"script"}